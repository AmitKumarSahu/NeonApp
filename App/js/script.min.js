function reformSlidesInViewArray(slideInView,emblaSlider){let start=emblaSlider.slidesNotInView();start=start[0]+2;for(let i=0;i<slideInView.length;i++)start>slideInView.length&&(slideInView[i]=start-slideInView.length-1,start=slideInView[i]),start==slideInView.length?(slideInView[i]=slideInView.length,start=-1):slideInView[i]=start,start++}function reformSlidesInViewArrayForTexts(slideInView,emblaSlider){let totalLength=emblaSlider.slideNodes().length,start=emblaSlider.slidesNotInView();start=start[start.length-1];for(let i=0;i<slideInView.length;i++)start>=totalLength?(slideInView[i]=start-totalLength,start=slideInView[i]):slideInView[i]=start,start++}window.onload=()=>{var emblaNode=document.querySelector(".embla"),emblaFontSelectorNode=document.querySelector(".embla_font_selector"),options={dragFree:!0,loop:!0},embla=EmblaCarousel(emblaNode,options),emblaFontSelector=EmblaCarousel(emblaFontSelectorNode,options);let slideInView=embla.slidesInView(),fontSelectorSlidesInView=emblaFontSelector.slideNodes(),current="embla";$("#fDisplay").on("click",(function(){"Start Typing"==$("#fDisplay").val()&&$("#fDisplay").val("")})),$("#fDisplay").css("font-family",$(".fontCenter svg").attr("data-font-style")),$("#fDisplay").css("color",$(".center button").css("color")),embla.on("scroll",()=>{slideInView=embla.slidesInView(),reformSlidesInViewArray(slideInView,embla),console.log(slideInView);let height=25,opacity=.2;for(let i=0;i<slideInView.length;i++){if($(".embla__slide:eq("+slideInView[i]+")").css({transform:"translate(0px,"+height+"px)",opacity:opacity}),1==opacity){$(".embla__slide:eq("+slideInView[i]+")").addClass("center");let textColor=$(".center button").css("color"),color="drop-shadow(0 0 2.75rem "+$(".center button").css("color")+")",textShadow="0px 1px 10px "+textColor+",0px 1px 10px "+textColor+",0px 1px 10px "+textColor+",0px 1px 19px "+textColor;$(".fontCenter .st0").css({fill:textColor,filter:color}),$("#fDisplay").css("font-family",$(".fontCenter svg").attr("data-font-style")),$("#fDisplay").css("color",$(".center button").css("color")),$("#fDisplay").css("text-shadow",textShadow)}else $(".embla__slide:eq("+slideInView[i]+")").removeClass("center");4==i?$(".embla__slide:eq("+slideInView[i]+") .color-title").removeClass("hide"):$(".embla__slide:eq("+slideInView[i]+") .color-title").addClass("hide"),i<=3?(height-=25,opacity=3==i?1:.2):(height+=25,opacity=.2)}}),emblaFontSelector.on("scroll",()=>{fontSelectorSlidesInView=emblaFontSelector.slidesInView();let mid=2,labelPoint=3;0==fontSelectorSlidesInView[0]&&(reformSlidesInViewArrayForTexts(fontSelectorSlidesInView,emblaFontSelector),mid=3,labelPoint=4);let height=50,opacity=.2,top=0,color="",textColor="#ffffff",textShadow="#ffffff";for(let i=0;i<fontSelectorSlidesInView.length;i++)$(".embla_font-slider:eq("+fontSelectorSlidesInView[i]+")").css({transform:"translate(0px,"+height+"px)",opacity:opacity,top:top+"px"}),$(".embla_font-slider:eq("+fontSelectorSlidesInView[i]+") .st0").css({fill:textColor,filter:color}),i==labelPoint?$(".embla_font-slider:eq("+fontSelectorSlidesInView[i]+") div").removeClass("font-hide"):$(".embla_font-slider:eq("+fontSelectorSlidesInView[i]+") div").addClass("font-hide"),1==opacity?($("#fDisplay").css("font-family",$(".fontCenter svg").attr("data-font-style")),$("#fDisplay").css("color",textColor),$("#fDisplay").css("text-shadow",textShadow),$(".embla_font-slider:eq("+fontSelectorSlidesInView[i]+")").addClass("fontCenter")):$(".embla_font-slider:eq("+fontSelectorSlidesInView[i]+")").removeClass("fontCenter"),i<=mid?(height-=50,i==mid?(opacity=1,top=-30,color="drop-shadow(0 0 2.75rem "+$(".center button").css("color")+")",textColor=$(".center button").css("color"),textShadow="0px 1px 10px "+textColor+",0px 1px 10px "+textColor+",0px 1px 10px "+textColor+",0px 1px 19px "+textColor):(opacity=.2,top=0,color="none",textColor="#ffffff")):(height+=50,opacity=.2,top=0,color="none",textColor="#ffffff")}),document.onkeydown=function(e){switch(e.which){case 37:"embla"==current?embla.scrollPrev():"embla_font_selector"==current&&emblaFontSelector.scrollPrev();break;case 39:"embla"==current?embla.scrollNext():"embla_font_selector"==current&&emblaFontSelector.scrollNext();break;default:return}e.preventDefault()};var selector,$slides=$(".section"),currentSlide=0,isAnimating=!1,stopAnimation=function(){setTimeout((function(){isAnimating=!1}),300)},bottomIsReached=function($elem){var rect;return $elem[0].getBoundingClientRect().bottom<=$(window).height()},topIsReached=function($elem){var rect;return $elem[0].getBoundingClientRect().top>=0};document.addEventListener("wheel",(function(event){var $currentSlide=$($slides[currentSlide]);if(isAnimating)event.preventDefault();else{var direction;if(-event.deltaY<0){if(currentSlide+1>=$slides.length)return;if(!bottomIsReached($currentSlide))return;event.preventDefault(),currentSlide++;var $slide,offsetTop=($slide=$($slides[currentSlide])).offset().top;isAnimating=!0,$("html, body").animate({scrollTop:offsetTop},1e3,stopAnimation)}else{if(currentSlide-1<0)return;if(!topIsReached($currentSlide))return;event.preventDefault(),currentSlide--;var $slide,offsetTop=($slide=$($slides[currentSlide])).offset().top;isAnimating=!0,$("html, body").animate({scrollTop:offsetTop},1e3,stopAnimation)}current=$slide.children("div:eq(1)").attr("class").split(" ")[0]}}),{passive:!1});const range=document.getElementById("range");range.addEventListener("input",e=>{const label=e.target.nextElementSibling;console.log(label);const value=+e.target.value;console.log(value);const range_width=getComputedStyle(e.target).getPropertyValue("width");console.log(range_width);const label_width=getComputedStyle(label).getPropertyValue("width");console.log(label_width);const num_width=+range_width.substring(0,range_width.length-2);console.log(num_width);const num_label_width=+label_width.substring(0,label_width.length-2);console.log(num_label_width);const max=+e.target.max,min=+e.target.min,left=value*(num_width/max)-num_label_width/2+scale(value,min,max,10,-10);label.style.left=`${left-10}px`,label.innerHTML=value+" cm",$("input").css("font-size",value)});const scale=(num,in_min,in_max,out_min,out_max)=>(num-in_min)*(out_max-out_min)/(in_max-in_min)+out_min};